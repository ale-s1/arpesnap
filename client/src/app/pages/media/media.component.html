<div class="w-full h-full overflow-hidden">
  <app-header />
  <section class="flex h-full">
    <app-side-menu (selectedFile)="onSelectFile($event)" />

    <div class="flex flex-col w-full">
      @if (isLoading) {
      <div class="h-2/3">
        <app-loader />
      </div>
      }
      <div
        [class.hidden]="isLoading || !currentUrl"
        class="relative h-2/3 w-full flex flex-col justify-center items-center p-3 gap-2"
      >
        <div class="flex items-center gap-4 flex-wrap">
          <!-- Botón 9:16 TikTok -->
          <button
            class="text-white hover:text-dark-bg-color flex flex-col items-center h-20 gap-2 w-32 aspect-[9/16]bg-gray-100 border rounded shadow hover:bg-gray-200 transition p-2"
            data-action="tik-tok-aspect-ratio"
          >
            <svg
              viewBox="0 0 9 16"
              xmlns="http://www.w3.org/2000/svg"
              class="w-full h-full"
            >
              <rect width="9" height="16" fill="#f87171" rx="1" />
            </svg>
            <span class="text-xs font-medium">9:16 TikTok</span>
          </button>

          <!-- Botón 16:9 YouTube -->
          <button
            class="text-white hover:text-dark-bg-color flex flex-col h-20 items-center gap-2 w-48 aspect-video border rounded shadow hover:bg-gray-200 transition p-2"
          >
            <svg
              viewBox="0 0 16 9"
              xmlns="http://www.w3.org/2000/svg"
              class="w-full h-full"
            >
              <rect width="16" height="9" fill="#60a5fa" rx="1" />
            </svg>
            <span class="text-xs font-medium">16:9 YouTube</span>
          </button>
        </div>
        <video
          #video
          class="h-2/3 lg:h-5/6 rounded-lg relative"
          preload="metadata"
        ></video>
      </div>

      <label
        [class.hidden]="isLoading || currentUrl"
        for="picker"
        class="w-full h-2/3 flex justify-center items-center"
      >
        <div class="flex flex-col items-center justify-center cursor-pointer">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="white"
            class="size-10"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"
            />
          </svg>

          <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
            <span class="font-semibold">Click to upload</span> or drag and drop
          </p>
          <p class="text-xs text-gray-500 dark:text-gray-400">MP4</p>
          <input
            id="picker"
            type="file"
            hidden
            (change)="onSelectFile($event)"
          />
        </div>
      </label>

      <app-time-line [setImg]="imagesUrl"></app-time-line>
    </div>
  </section>
</div>
